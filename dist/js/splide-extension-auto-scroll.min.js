/*!
 * @splidejs/splide-extension-auto-scroll
 * Version  : 0.5.1
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */(function(S){typeof define=="function"&&define.amd?define(S):S()})(function(){"use strict";function S(n){n.length=0}function D(n,t,i){return Array.prototype.slice.call(n,t,i)}function L(n){return n.bind.apply(n,[null].concat(D(arguments,1)))}function z(n){return requestAnimationFrame(n)}function $(n,t){return typeof t===n}var B=Array.isArray;L($,"function"),L($,"string"),L($,"undefined");function H(n){return B(n)?n:[n]}function K(n,t){H(n).forEach(t)}var fn=Object.keys;function cn(n,t,i){if(n){var r=fn(n);r=i?r.reverse():r;for(var o=0;o<r.length;o++){var c=r[o];if(c!=="__proto__"&&t(n[c],c)===!1)break}}return n}function sn(n){return D(arguments,1).forEach(function(t){cn(t,function(i,r){n[r]=t[r]})}),n}var dn=Math.min;function ln(){var n=[];function t(u,s,a,d){o(u,s,function(f,v,l){var h="addEventListener"in f,b=h?f.removeEventListener.bind(f,v,a,d):f.removeListener.bind(f,a);h?f.addEventListener(v,a,d):f.addListener(a),n.push([f,v,l,a,b])})}function i(u,s,a){o(u,s,function(d,f,v){n=n.filter(function(l){return l[0]===d&&l[1]===f&&l[2]===v&&(!a||l[3]===a)?(l[4](),!1):!0})})}function r(u,s,a){var d,f=!0;return typeof CustomEvent=="function"?d=new CustomEvent(s,{bubbles:f,detail:a}):(d=document.createEvent("CustomEvent"),d.initCustomEvent(s,f,!1,a)),u.dispatchEvent(d),d}function o(u,s,a){K(u,function(d){d&&K(s,function(f){f.split(" ").forEach(function(v){var l=v.split(".");a(d,l[0],l[1])})})})}function c(){n.forEach(function(u){u[4]()}),S(n)}return{bind:t,unbind:i,dispatch:r,destroy:c}}var G="move",J="moved",vn="updated",Q="drag",U="scroll",Y="scrolled",pn="destroy";function En(n){var t=n?n.event.bus:document.createDocumentFragment(),i=ln();function r(c,u){i.bind(t,H(c).join(" "),function(s){u.apply(u,B(s.detail)?s.detail:[])})}function o(c){i.dispatch(t,c,D(arguments,1))}return n&&n.event.on(pn,i.destroy),sn(i,{bus:t,on:r,off:L(i.unbind,t),emit:o})}function mn(n,t,i,r){var o=Date.now,c,u=0,s,a=!0,d=0;function f(){if(!a){if(u=n?dn((o()-c)/n,1):1,i&&i(u),u>=1&&(t(),c=o(),r&&++d>=r))return l();z(f)}}function v(p){!p&&b(),c=o()-(p?u*n:0),a=!1,z(f)}function l(){a=!0}function h(){c=o(),u=0,i&&i(u)}function b(){s&&cancelAnimationFrame(s),u=0,s=0,a=!0}function V(p){n=p}function I(){return a}return{start:v,rewind:h,pause:l,cancel:b,set:V,isPaused:I}}var hn="is-active",yn="slide",An="fade";function W(n,t,i){return Array.prototype.slice.call(n,t,i)}function C(n){return n.bind.apply(n,[null].concat(W(arguments,1)))}function _(n,t){return typeof t===n}function M(n){return!X(n)&&_("object",n)}var bn=Array.isArray;C(_,"function"),C(_,"string");var wn=C(_,"undefined");function X(n){return n===null}function gn(n){return bn(n)?n:[n]}function O(n,t){gn(n).forEach(t)}function Sn(n,t,i){n&&O(t,function(r){r&&n.classList[i?"add":"remove"](r)})}var Ln=Object.keys;function Z(n,t,i){if(n){var r=Ln(n);r=i?r.reverse():r;for(var o=0;o<r.length;o++){var c=r[o];if(c!=="__proto__"&&t(n[c],c)===!1)break}}return n}function j(n){return W(arguments,1).forEach(function(t){Z(t,function(i,r){n[r]=t[r]})}),n}function _n(n,t){O(n,function(i){O(t,function(r){i&&i.removeAttribute(r)})})}function k(n,t,i){M(t)?Z(t,function(r,o){k(n,o,r)}):O(n,function(r){X(i)||i===""?_n(r,t):r.setAttribute(t,String(i))})}var nn=Math.min,tn=Math.max,Pn=Math.floor,Rn=Math.ceil,qn=Math.abs;function On(n,t,i){var r=nn(t,i),o=tn(t,i);return nn(tn(r,n),o)}var Tn={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},Dn={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function $n(n,t,i){var r=En(n),o=r.on,c=r.off,u=r.bind,s=r.unbind,a=t.Move,d=a.translate,f=a.getPosition,v=a.toIndex,l=a.getLimit,h=t.Controller,b=h.setIndex,V=h.getIndex,I=t.Direction.orient,p=t.Elements.toggle,rn=t.Live,N=n.root,m={},E,y,x,F,P,T;function Cn(){var e=i.autoScroll;m=j({},Tn,M(e)?e:{})}function en(){n.is(An)||!E&&i.autoScroll!==!1&&(E=mn(0,Nn),Mn(),In())}function on(){E&&(E.cancel(),E=null,T=void 0,c([G,Q,U,J,Y]),s(N,"mouseenter mouseleave focusin focusout"),s(p,"click"))}function Mn(){m.pauseOnHover&&u(N,"mouseenter mouseleave",function(e){x=e.type==="mouseenter",R()}),m.pauseOnFocus&&u(N,"focusin focusout",function(e){F=e.type==="focusin",R()}),m.useToggleButton&&u(p,"click",function(){y?w():g()}),o(vn,Vn),o([G,Q,U],function(){P=!0,g(!1)}),o([J,Y],function(){P=!1,R()})}function Vn(){var e=i.autoScroll;e!==!1?(m=j({},m,M(e)?e:{}),en()):on(),E&&!wn(T)&&d(T)}function In(){m.autoStart&&(document.readyState==="complete"?w():u(window,"load",w))}function w(){q()&&(E.start(!0),rn.disable(!0),F=x=y=!1,un())}function g(e){e===void 0&&(e=!0),y||(y=e,un(),q()||(E.pause(),rn.disable(!1)))}function R(){y||(x||F||P?g(!1):w())}function Nn(){var e=f(),A=xn(e);e!==A?(d(A),Fn(T=f())):(g(!1),m.rewind&&n.go(0))}function xn(e){var A=m.speed||1;return e+=I(A),n.is(yn)&&(e=On(e,l(!1),l(!0))),e}function Fn(e){var A=n.length,an=(v(e)+A)%A;an!==V()&&(b(an),t.Slides.update(),t.Pagination.update(),i.lazyLoad==="nearby"&&t.LazyLoad.check())}function un(){if(p){var e=y?"startScroll":"pauseScroll";Sn(p,hn,!y),k(p,"aria-label",i.i18n[e]||Dn[e])}}function q(){return!E||E.isPaused()}return{setup:Cn,mount:en,destroy:on,play:w,pause:g,isPaused:q}}typeof window<"u"&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.AutoScroll=$n)});
