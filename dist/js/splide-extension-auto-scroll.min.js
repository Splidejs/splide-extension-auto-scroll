/*!
 * @splidejs/splide-extension-auto-scroll
 * Version  : 0.5.0
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */(function(_){typeof define=="function"&&define.amd?define(_):_()})(function(){"use strict";function _(n){n.length=0}function C(n,t,e){return Array.prototype.slice.call(n,t,e)}function L(n){return n.bind.apply(n,[null].concat(C(arguments,1)))}function H(n){return requestAnimationFrame(n)}function $(n,t){return typeof t===n}var K=Array.isArray;L($,"function"),L($,"string"),L($,"undefined");function G(n){return K(n)?n:[n]}function z(n,t){G(n).forEach(t)}var cn=Object.keys;function sn(n,t,e){if(n){var r=cn(n);r=e?r.reverse():r;for(var o=0;o<r.length;o++){var c=r[o];if(c!=="__proto__"&&t(n[c],c)===!1)break}}return n}function dn(n){return C(arguments,1).forEach(function(t){sn(t,function(e,r){n[r]=t[r]})}),n}var vn=Math.min;function ln(){var n=[];function t(u,s,a,d){o(u,s,function(f,l,v){var b="addEventListener"in f,m=b?f.removeEventListener.bind(f,l,a,d):f.removeListener.bind(f,a);b?f.addEventListener(l,a,d):f.addListener(a),n.push([f,l,v,a,m])})}function e(u,s,a){o(u,s,function(d,f,l){n=n.filter(function(v){return v[0]===d&&v[1]===f&&v[2]===l&&(!a||v[3]===a)?(v[4](),!1):!0})})}function r(u,s,a){var d,f=!0;return typeof CustomEvent=="function"?d=new CustomEvent(s,{bubbles:f,detail:a}):(d=document.createEvent("CustomEvent"),d.initCustomEvent(s,f,!1,a)),u.dispatchEvent(d),d}function o(u,s,a){z(u,function(d){d&&z(s,function(f){f.split(" ").forEach(function(l){var v=l.split(".");a(d,v[0],v[1])})})})}function c(){n.forEach(function(u){u[4]()}),_(n)}return{bind:t,unbind:e,dispatch:r,destroy:c}}var J="move",U="moved",pn="updated",Y="drag",Q="scroll",W="scrolled",En="destroy";function mn(n){var t=n?n.event.bus:document.createDocumentFragment(),e=ln();function r(c,u){e.bind(t,G(c).join(" "),function(s){u.apply(u,K(s.detail)?s.detail:[])})}function o(c){e.dispatch(t,c,C(arguments,1))}return n&&n.event.on(En,e.destroy),dn(e,{bus:t,on:r,off:L(e.unbind,t),emit:o})}function hn(n,t,e,r){var o=Date.now,c,u=0,s,a=!0,d=0;function f(){if(!a){if(u=n?vn((o()-c)/n,1):1,e&&e(u),u>=1&&(t(),c=o(),r&&++d>=r))return v();H(f)}}function l(w){!w&&m(),c=o()-(w?u*n:0),a=!1,H(f)}function v(){a=!0}function b(){c=o(),u=0,e&&e(u)}function m(){s&&cancelAnimationFrame(s),u=0,s=0,a=!0}function x(w){n=w}function I(){return a}return{start:l,rewind:b,pause:v,cancel:m,set:x,isPaused:I}}var An="is-active",wn="slide",bn="fade";function X(n,t,e){return Array.prototype.slice.call(n,t,e)}function M(n){return n.bind.apply(n,[null].concat(X(arguments,1)))}function O(n,t){return typeof t===n}function V(n){return!Z(n)&&O("object",n)}var gn=Array.isArray;M(O,"function"),M(O,"string");var yn=M(O,"undefined");function Z(n){return n===null}function Sn(n){return gn(n)?n:[n]}function T(n,t){Sn(n).forEach(t)}function _n(n,t,e){n&&T(t,function(r){r&&n.classList[e?"add":"remove"](r)})}var Ln=Object.keys;function j(n,t,e){if(n){var r=Ln(n);r=e?r.reverse():r;for(var o=0;o<r.length;o++){var c=r[o];if(c!=="__proto__"&&t(n[c],c)===!1)break}}return n}function k(n){return X(arguments,1).forEach(function(t){j(t,function(e,r){n[r]=t[r]})}),n}function On(n,t){T(n,function(e){T(t,function(r){e&&e.removeAttribute(r)})})}function nn(n,t,e){V(t)?j(t,function(r,o){nn(n,o,r)}):T(n,function(r){Z(e)||e===""?On(r,t):r.setAttribute(t,String(e))})}var tn=Math.min,rn=Math.max,Rn=Math.floor,qn=Math.ceil,Bn=Math.abs;function Tn(n,t,e){var r=tn(t,e),o=rn(t,e);return tn(rn(r,n),o)}var Dn={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},Cn={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function $n(n,t,e){var r=mn(n),o=r.on,c=r.off,u=r.bind,s=r.unbind,a=t.Move,d=a.translate,f=a.getPosition,l=a.toIndex,v=a.getLimit,b=a.exceededLimit,m=t.Controller,x=m.setIndex,I=m.getIndex,w=t.Direction.orient,g=t.Elements.toggle,en=t.Live,N=n.root,E={},p,h,P,F,R,D;function Mn(){var i=e.autoScroll;E=k({},Dn,V(i)?i:{})}function on(){n.is(bn)||!p&&e.autoScroll!==!1&&(p=hn(0,Nn),Vn(),In())}function un(){p&&(p.cancel(),p=null,D=void 0,c([J,Y,Q,U,W]),s(N,"mouseenter mouseleave focusin focusout"),s(g,"click"))}function Vn(){E.pauseOnHover&&u(N,"mouseenter mouseleave",function(i){P=i.type==="mouseenter",q()}),E.pauseOnFocus&&u(N,"focusin focusout",function(i){F=i.type==="focusin",q()}),E.useToggleButton&&u(g,"click",function(){h?y():S()}),o(pn,xn),o([J,Y,Q],function(){R=!0,S(!1)}),o([U,W],function(){R=!1,q()})}function xn(){var i=e.autoScroll;i!==!1?(E=k({},E,V(i)?i:{}),on()):un(),p&&!yn(D)&&d(D)}function In(){E.autoStart&&(document.readyState==="complete"?y():u(window,"load",y))}function y(){B()&&(p.start(!0),en.disable(!0),F=P=h=!1,an())}function S(i){i===void 0&&(i=!0),h||(h=i,an(),B()||(p.pause(),en.disable(!1)))}function q(){h||(P||F||R?S(!1):y())}function Nn(){var i=f(),A=Pn(i);i!==A?(d(A),Fn(D=f())):(S(!1),E.rewind&&n.go(0))}function Pn(i){var A=E.speed||1;return i+=w(A),n.is(wn)&&(i=Tn(i,v(!1),v(!0))),i}function Fn(i){var A=n.length,fn=(l(i)+A)%A;fn!==I()&&(x(fn),t.Slides.update(),t.Pagination.update())}function an(){if(g){var i=h?"startScroll":"pauseScroll";_n(g,An,!h),nn(g,"aria-label",e.i18n[i]||Cn[i])}}function B(){return!p||p.isPaused()}return{setup:Mn,mount:on,destroy:un,play:y,pause:S,isPaused:B}}typeof window<"u"&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.AutoScroll=$n)});
