/*!
 * @splidejs/splide-extension-auto-scroll
 * Version  : 0.4.0
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */(function(y){typeof define=="function"&&define.amd?define(y):y()})(function(){"use strict";function y(n){n.length=0}function L(n,t,r){return Array.prototype.slice.call(n,t,r)}function b(n){return n.bind.apply(n,[null].concat(L(arguments,1)))}function V(n){return requestAnimationFrame(n)}function T(n,t){return typeof t===n}var $=Array.isArray;b(T,"function"),b(T,"string"),b(T,"undefined");function N(n){return $(n)?n:[n]}function C(n,t){N(n).forEach(t)}var k=Object.keys;function nn(n,t,r){if(n){var e=k(n);e=r?e.reverse():e;for(var a=0;a<e.length;a++){var f=e[a];if(f!=="__proto__"&&t(n[f],f)===!1)break}}return n}function tn(n){return L(arguments,1).forEach(function(t){nn(t,function(r,e){n[e]=t[e]})}),n}var en=Math.min;function rn(){var n=[];function t(i,d,u,c){a(i,d,function(s,m,v){var w="addEventListener"in s,g=w?s.removeEventListener.bind(s,m,u,c):s.removeListener.bind(s,u);w?s.addEventListener(m,u,c):s.addListener(u),n.push([s,m,v,u,g])})}function r(i,d,u){a(i,d,function(c,s,m){n=n.filter(function(v){return v[0]===c&&v[1]===s&&v[2]===m&&(!u||v[3]===u)?(v[4](),!1):!0})})}function e(i,d,u){var c,s=!0;return typeof CustomEvent=="function"?c=new CustomEvent(d,{bubbles:s,detail:u}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(d,s,!1,u)),i.dispatchEvent(c),c}function a(i,d,u){C(i,function(c){c&&C(d,function(s){s.split(" ").forEach(function(m){var v=m.split(".");u(c,v[0],v[1])})})})}function f(){n.forEach(function(i){i[4]()}),y(n)}return{bind:t,unbind:r,dispatch:e,destroy:f}}var F="move",R="moved",un="updated",q="drag",H="scroll",K="scrolled",on="destroy";function an(n){var t=n?n.event.bus:document.createDocumentFragment(),r=rn();function e(f,i){r.bind(t,N(f).join(" "),function(d){i.apply(i,$(d.detail)?d.detail:[])})}function a(f){r.dispatch(t,f,L(arguments,1))}return n&&n.event.on(on,r.destroy),tn(r,{bus:t,on:e,off:b(r.unbind,t),emit:a})}function fn(n,t,r,e){var a=Date.now,f,i=0,d,u=!0,c=0;function s(){if(!u){if(i=n?en((a()-f)/n,1):1,r&&r(i),i>=1&&(t(),f=a(),e&&++c>=e))return v();V(s)}}function m(E){!E&&g(),f=a()-(E?i*n:0),u=!1,V(s)}function v(){u=!0}function w(){f=a(),i=0,r&&r(i)}function g(){d&&cancelAnimationFrame(d),i=0,d=0,u=!0}function P(E){n=E}function I(){return u}return{start:m,rewind:w,pause:v,cancel:g,set:P,isPaused:I}}var sn="slide";function B(n,t,r){return Array.prototype.slice.call(n,t,r)}function D(n){return n.bind.apply(n,[null].concat(B(arguments,1)))}function _(n,t){return typeof t===n}function G(n){return!dn(n)&&_("object",n)}D(_,"function"),D(_,"string");var cn=D(_,"undefined");function dn(n){return n===null}var vn=Object.keys;function ln(n,t,r){if(n){var e=vn(n);e=r?e.reverse():e;for(var a=0;a<e.length;a++){var f=e[a];if(f!=="__proto__"&&t(n[f],f)===!1)break}}return n}function Y(n){return B(arguments,1).forEach(function(t){ln(t,function(r,e){n[e]=t[e]})}),n}var z=Math.min,J=Math.max,An=Math.floor,Ln=Math.ceil,Tn=Math.abs;function mn(n,t,r){var e=z(t,r),a=J(t,r);return z(J(e,n),a)}var pn={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0};function En(n,t,r){var e=an(n),a=e.on,f=e.off,i=e.bind,d=e.unbind,u=t.Move,c=u.translate,s=u.getPosition,m=u.toIndex,v=u.getLimit,w=t.Controller,g=w.setIndex,P=w.getIndex,I=t.Direction.orient,E=n.root,h={},l,Q,U,W,S,O;function hn(){var o=r.autoScroll;h=Y({},pn,G(o)?o:{})}function X(){!l&&r.autoScroll!==!1&&(l=fn(0,bn),wn(),yn())}function Z(){l&&(l.cancel(),l=null,O=void 0,f([F,q,H,R,K]),d(E,"mouseenter mouseleave focusin focusout"))}function wn(){h.pauseOnHover&&i(E,"mouseenter mouseleave",function(o){U=o.type==="mouseenter",M()}),h.pauseOnFocus&&i(E,"focusin focusout",function(o){W=o.type==="focusin",M()}),a(un,gn),a([F,q,H],function(){S=!0,A(!1)}),a([R,K],function(){S=!1,M()})}function gn(){var o=r.autoScroll;o!==!1?(h=Y(h,G(o)?o:{}),X()):Z(),l&&!cn(O)&&c(O)}function yn(){h.autoStart&&(document.readyState==="complete"?x():i(window,"load",x))}function x(){l&&l.isPaused()&&l.start(!0)}function A(o){o===void 0&&(o=!0),l&&!l.isPaused()&&l.pause(),Q=o}function M(){Q||(!U&&!W&&!S?x():A(!1))}function bn(){var o=s(),p=_n(o);o!==p?(c(p),On(p),O=p):(A(!1),h.rewind&&n.go(0))}function _n(o){var p=h.speed||1;return o+=I(p),n.is(sn)&&(o=mn(o,v(!1),v(!0))),o}function On(o){var p=n.length,j=(m(o)+p)%p;j!==P()&&(g(j),t.Slides.update(),t.Pagination.update())}function xn(){return!l||l.isPaused()}return{setup:hn,mount:X,destroy:Z,play:x,pause:A,isPaused:xn}}typeof window<"u"&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.AutoScroll=En)});
